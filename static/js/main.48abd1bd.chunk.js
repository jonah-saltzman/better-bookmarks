(this["webpackJsonpbetter-bookmarks-client"]=this["webpackJsonpbetter-bookmarks-client"]||[]).push([[0],{139:function(e,t,a){e.exports=a(242)},144:function(e,t,a){},147:function(e,t){},149:function(e,t){},183:function(e,t){},184:function(e,t){},228:function(e,t,a){},242:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(21),o=a.n(c),l=(a(144),a(6)),s=a(252),u=a(125),i=a(19),d=a(36),m=a(17),f=(a(226),a(227),a(228),a(12)),p=a.n(f),b=a(14),h=a(248),E=a(249),O=a(250),g=Object(r.createContext)(),j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))?"http://127.0.0.1:4000":"https://betterbookmarks.herokuapp.com",w="https://twitter.com/i/oauth2/authorize?response_type=code&client_id=YnEzOGs2Y2pLMWRUTXM2X3dYU1g6MTpjaQ&redirect_uri="+j+"/twtauth?user=",x=function(){var e=Object(b.a)(p.a.mark((function e(t,a,r,n){var c,o,l,s,u,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=j+"/auth"+(n?"/signup":"/login"),console.log("authenticating with url: "),console.log(c),o={email:t,password:a,twtId:r||null},e.prev=4,e.next=7,fetch(c,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 7:return l=e.sent,s=l.status,e.next=11,l.json();case 11:if(u=e.sent,n){e.next=16;break}return e.abrupt("return",{error:200===s?null:u,success:200===s?u.message:null,token:u.token||null,userId:u.userId||null,twtChallenge:u.twtChallenge||null});case 16:if(200!==s){e.next=27;break}return e.next=19,x(t,a,null,!1);case 19:if(!(i=e.sent).success){e.next=24;break}return e.abrupt("return",{error:null,success:"Account created & logged in!",token:i.token,userId:i.userId,twtChallenge:i.twtChallenge});case 24:return e.abrupt("return",{error:"User ".concat(t," created but login failed.")});case 25:e.next=28;break;case 27:return e.abrupt("return",{error:u});case 28:e.next=34;break;case 30:return e.prev=30,e.t0=e.catch(4),console.error(e.t0),e.abrupt("return",{error:"Unknown error"});case 34:case"end":return e.stop()}}),e,null,[[4,30]])})));return function(t,a,r,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,r,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=j+"/user/signout",e.prev=1,e.next=4,fetch(a,{method:"Get",cache:"no-cache",headers:{Authorization:"JWT ".concat(t)}});case 4:return r=e.sent,n=r.status,e.next=8,r.json();case 8:if(c=e.sent,200!==n){e.next=13;break}return e.abrupt("return",{error:null,success:c.message});case 13:return e.abrupt("return",{error:c.message});case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(1),e.abrupt("return",{error:"Unknown error logging out."});case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(r.useContext)(g),t=e.state,a=e.dispatch,c=t.loggedIn,o=t.token,l=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=3;break}return Object(m.b)("No user to logout!",{type:"error"}),e.abrupt("return");case 3:return e.next=5,v(o);case 5:if(!(t=e.sent).error){e.next=9;break}return Object(m.b)(t.error,{type:"error"}),e.abrupt("return");case 9:Object(m.b)(t.success,{type:"success"}),["SET_USER","SET_LOGIN","SET_TOKEN","SET_FOLDERS","SET_USER_ID"].forEach((function(e){return a({type:e,payload:null})}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement(h.a,{sticky:"top",className:"nav"},n.a.createElement(E.a,{tag:i.b,to:"/",className:"text-white navbrand"},"Better Bookmarks"),n.a.createElement(i.c,{to:"/folders",className:"text-white"},"Folders"),n.a.createElement(i.c,{to:"/likes",className:"text-white"},"Likes"),n.a.createElement(i.c,{to:"/import",className:"text-white"},"Import"),n.a.createElement(O.a,{className:"text-white float-right navtxt"},c?n.a.createElement("span",{onClick:l,className:"text-white text-large link"},"Logout"):n.a.createElement(i.c,{className:"text-white text-large",to:"/auth"},"Login")))},k=function(){return n.a.createElement(d.a,{to:"/"})},N=a(251),S=a(253),I=a(254),T=a(255),C=a(256),_=a(257),L=a(258),F=a(259),U=function(){var e=Object(r.useContext)(g),t=e.state,a=e.dispatch,c=t.loggedIn,o=Object(r.useState)(!1),u=Object(l.a)(o,2),i=u[0],f=u[1],h=Object(r.useState)(!1),E=Object(l.a)(h,2),O=E[0],j=E[1],w=Object(r.useState)(!0),v=Object(l.a)(w,2),y=v[0],k=v[1],U=Object(r.useState)(""),R=Object(l.a)(U,2),W=R[0],z=R[1],A=Object(r.useState)(""),G=Object(l.a)(A,2),D=G[0],J=G[1],B=Object(r.useState)(""),P=Object(l.a)(B,2),K=P[0],M=P[1],H=Object(r.useState)(""),V=Object(l.a)(H,2),Y=V[0],X=V[1],$=Object(r.useState)(!1),q=Object(l.a)($,2),Q=q[0],Z=q[1],ee=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==W&&""!==D&&(y||""!==K)){e.next=4;break}return Object(m.b)("Please complete all required fields.",{type:"error"}),e.abrupt("return");case 4:if(y||D===K){e.next=7;break}return Object(m.b)("Passwords do not match!",{type:"error"}),e.abrupt("return");case 7:j(!0),f(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){i?Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(W,D,Y,!y);case 2:(t=e.sent).error?Object(m.b)(t.error,{type:"error"}):(Object(m.b)(t.success,{type:"success"}),te(W,t)),j(!1),f(!1);case 6:case"end":return e.stop()}}),e)})))():j(!1)}),[i]);var te=function(e,t){a({type:"SET_USER",payload:e}),a({type:"SET_TOKEN",payload:t.token}),a({type:"SET_USER_ID",payload:t.userId}),a({type:"SET_TWT_CHALLENGE",payload:t.twtChallenge}),a({type:"SET_LOGIN",payload:!0})};return O?n.a.createElement("div",{className:"Center"},n.a.createElement(N.a,{color:"primary"}),n.a.createElement("div",{className:"text-primary"},"Loading...")):c?n.a.createElement(d.a,{to:"/folders"}):n.a.createElement(s.a,{fluid:!0,className:"mt-5 "},n.a.createElement(S.a,null,n.a.createElement(I.a,{md:"8",className:"offset-md-2 p-3 "},n.a.createElement(T.a,{className:"formcard auth-form",onSubmit:ee},n.a.createElement(C.a,{className:"mt-4"},n.a.createElement("input",{className:"input",type:"email",name:"email",id:"email",placeholder:"Email",value:W,onChange:function(e){return z(e.target.value)}})),n.a.createElement(C.a,null,n.a.createElement("input",{className:"input mt-2",type:"password",name:"password",id:"password",value:D,onChange:function(e){return J(e.target.value)},placeholder:"Password"})),y?n.a.createElement(C.a,{check:!0,className:"mt-2"},n.a.createElement(_.a,{check:!0},n.a.createElement(L.a,{className:"checkmark",type:"checkbox",onChange:function(){Z(!Q)},checked:Q})," ",n.a.createElement("span",{className:"text-right",style:{color:"#f9f9f9",fontWeight:"400",letterSpacing:"1px"}},"Stay signed in"))):[n.a.createElement(C.a,{key:"password-confirm"},n.a.createElement("input",{className:"input mt-2",type:"password",name:"password-confirm",id:"password-confirm",value:K,onChange:function(e){return M(e.target.value)},placeholder:"Confirm password"})),n.a.createElement(C.a,{key:"twtId"},n.a.createElement("input",{className:"input mt-2",type:"text",name:"twtId",id:"twtId",value:Y,onChange:function(e){return X(e.target.value)},placeholder:"Twitter Username"}))],n.a.createElement(F.a,{type:"submit",color:"primary",block:!0,className:"text-uppercase button mt-5",style:{padding:"15px",fontSize:"18px"}},y?"Sign in":"Register")))),n.a.createElement(S.a,null,n.a.createElement(I.a,{md:"8",className:"offset-md-8"},n.a.createElement(F.a,{onClick:function(){k(!y)},type:"button",className:"text-uppercase button-static",style:{padding:"15px",fontSize:"18px"}},y?"Register":"Sign in"))))},R=a(260),W=a(261),z=a(262),A=function(e,t,a){return w+e+"&code_challenge="+t+"&scope=tweet.read%20like.read&state="+a+"&code_challenge_method=plain"},G=function(e){var t=e.location;console.log("in home, location.search: ".concat(t.search)),"?close"===t.search&&(console.log("closing window"),window.close());var a=Object(r.useContext)(g),c=a.state,o=(a.dispatch,c.loggedIn),s=c.userId,u=c.twtChallenge,i=c.twtState,d=Object(r.useState)(!1),m=Object(l.a)(d,2),f=m[0],p=m[1],b=Object(r.useState)(""),h=Object(l.a)(b,2),E=h[0],O=h[1];return Object(r.useEffect)((function(){o&&s?(O(A(s,u,i)),p(!0)):(O(""),p(!1))}),[o]),n.a.createElement("div",{className:"center-home"},n.a.createElement(R.a,{className:"homecard card-fab"},n.a.createElement(W.a,null,"Welcome to Better Bookmarks"),n.a.createElement(z.a,null,n.a.createElement("ul",null,n.a.createElement("li",null,"Organize your favorite Tweets into folders"),n.a.createElement("li",null,"Share folders with anyone"),n.a.createElement("li",null,'No more "This Tweet has been deleted"')),f?n.a.createElement("span",{className:"link",onClick:function(){window.open(E)}},"Login with Twitter"):null)))},D=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,r,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=j+"/user/folders",e.prev=1,e.next=4,fetch(a,{method:"GET",cache:"no-cache",headers:{Authorization:"JWT ".concat(t)}});case 4:return r=e.sent,n=r.status,e.next=8,r.json();case 8:if(c=e.sent,200!==n){e.next=13;break}return e.abrupt("return",{error:null,folders:c.folders});case 13:return e.abrupt("return",{error:c.message});case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var r,n,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=j+"/user/folders/"+t,e.prev=1,e.next=4,fetch(r,{method:"GET",cache:"no-cache",headers:{Authorization:"JWT ".concat(a)}});case 4:return n=e.sent,c=n.status,e.next=8,n.json();case 8:if(o=e.sent,200!==c){e.next=13;break}return e.abrupt("return",{error:null,tweets:o.tweets});case 13:return e.abrupt("return",{error:o.message});case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",{error:e.t0});case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,a){return e.apply(this,arguments)}}(),B=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var r,n,c,o,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=j+"/user/folders",n=JSON.stringify({folderName:"".concat(t)}),e.prev=2,e.next=5,fetch(r,{method:"POST",cache:"no-cache",headers:{Authorization:"JWT ".concat(a),"Content-Type":"application/json"},body:n});case 5:return c=e.sent,o=c.status,e.next=9,c.json();case 9:if(l=e.sent,201!==o){e.next=14;break}return e.abrupt("return",{error:null,message:"Created folder ".concat(l.folder,"!")});case 14:return e.abrupt("return",{error:l.message});case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",{error:e.t0});case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t,a){return e.apply(this,arguments)}}(),P=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var r,n,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=j+"/user/folders/"+t,e.prev=1,e.next=4,fetch(r,{method:"DELETE",cache:"no-cache",headers:{Authorization:"JWT ".concat(a)}});case 4:return n=e.sent,c=n.status,e.next=8,n.json();case 8:if(o=e.sent,200!==c){e.next=13;break}return e.abrupt("return",{error:null,message:"Deleted folder ".concat(o.folder.folderName,"!")});case 13:return e.abrupt("return",{error:o.message});case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",{error:e.t0});case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,a){return e.apply(this,arguments)}}(),K=function(){var e=Object(b.a)(p.a.mark((function e(t,a,r){var n,c,o,l,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("changing folder ".concat(t," to ").concat(a)),n=j+"/user/folders/"+t,c=JSON.stringify({newName:"".concat(a)}),e.prev=3,e.next=6,fetch(n,{method:"POST",cache:"no-cache",headers:{Authorization:"JWT ".concat(r),"Content-Type":"application/json"},body:c});case 6:return o=e.sent,l=o.status,e.next=10,o.json();case 10:if(s=e.sent,console.log(s.message),201!==l){e.next=16;break}return e.abrupt("return",{error:null,message:s.message});case 16:return e.abrupt("return",{error:s.message});case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",{error:e.t0});case 23:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t,a,r){return e.apply(this,arguments)}}(),M=a(267),H=a(266),V=a(138),Y=a(133),X=a(132),$=a(134),q=a(268),Q=a(263),Z=a(127),ee=a(49),te=a(58),ae=function(e){var t=e.folder,a=e.newFolder,c=e.refresh,o=e.selectFolder,s=e.selected,u=Object(r.useContext)(g),i=u.state,d=(u.dispatch,i.token),f=Object(r.useState)(!1),h=Object(l.a)(f,2),E=h[0],O=h[1],j=Object(r.useState)(a?"":t.folderName),w=Object(l.a)(j,2),x=w[0],v=w[1],y=Object(r.useState)(!1),k=Object(l.a)(y,2),N=k[0],S=k[1],I=Object(r.useState)(!1),T=Object(l.a)(I,2),C=T[0],_=T[1],L=Object(r.useState)(!1),F=Object(l.a)(L,2),U=F[0],R=F[1],W=Object(r.useState)(!1),z=Object(l.a)(W,2),A=z[0],G=z[1],D=Object(r.useState)(!1),J=Object(l.a)(D,2),ae=J[0],re=J[1],ne=function(){E||O(!0)},ce=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),O(!1),a?_(!0):R(!0),S(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){N&&Object(b.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=!0,e.next=e.t0===C?3:e.t0===ae?11:e.t0===U?17:23;break;case 3:return console.log("attempting to create folder: ".concat(x)),_(!1),S(!1),v(""),e.next=9,B(x,d);case 9:return a=e.sent,e.abrupt("break",23);case 11:return re(!1),S(!1),e.next=15,P(t.folderId,d);case 15:return a=e.sent,e.abrupt("break",23);case 17:return R(!1),S(!1),e.next=21,K(t.folderId,x,d);case 21:return a=e.sent,e.abrupt("break",23);case 23:a.error?Object(m.b)(a.error,{type:"error"}):Object(m.b)(a.message,{type:"success"}),c();case 25:case"end":return e.stop()}}),e)})))()}));var oe=n.a.createElement(M.a,{onSubmit:ce},n.a.createElement("input",{className:"folder-input",type:"text",name:"folderName",id:"folderName",placeholder:"".concat(t.folderName),value:x,onChange:function(e){return v(e.target.value)},onBlur:function(){E&&(O(!1),v(a?"":t.folderName))},autoFocus:!0})),le=n.a.createElement(H.a,{show:A,backdrop:"static",keyboard:!1},n.a.createElement(te.a,null,n.a.createElement(V.a,null,"Are you sure you want to delete ",t.folderName,"?"),n.a.createElement(Y.a,null)),n.a.createElement(X.a,null,"This action cannot be undone."),n.a.createElement($.a,null,n.a.createElement(q.a,{variant:"secondary",onClick:function(){A&&G(!1)}},"Cancel"),n.a.createElement(q.a,{variant:"primary",onClick:function(){re(!0),G(!1),S(!0)}},"Delete")));return n.a.createElement(n.a.Fragment,null,n.a.createElement(Q.a,{style:{width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},n.a.createElement(Z.a,{onClick:a?function(){return ne()}:function(){return e=t.folderId,void o(e);var e},xs:"8",className:"text-large cardtxt",style:{fontWeight:"300",fontSize:"16px",letterSpacing:"1px"}},n.a.createElement("span",{className:"link "+(s?"selected-text":"")},E?oe:t.folderName.length<=(s?15:17)?t.folderName:t.folderName.substring(0,s?13:15)+"...")),n.a.createElement(Z.a,{xs:"4",hidden:a,className:"float-end"},n.a.createElement(ee.a,{onClick:function(){A||G(!0)},color:"#FF6370",className:" icon",style:{zIndex:"1"}}),n.a.createElement(ee.b,{className:"icon ",color:"#54eafe",onClick:function(){return ne()}}))),le)},re=a(264),ne=a(265),ce=(a(243),a(137)),oe=a(136),le=function(e){var t=Object(r.useContext)(g),a=(t.state,t.dispatch,Object(d.g)(),e.tweet),c=Object(r.useState)(!1),o=Object(l.a)(c,2),s=o[0],u=o[1],i=Object(r.useState)(!1),m=Object(l.a)(i,2),f=m[0],p=m[1],b=Object(r.useState)(!1),h=Object(l.a)(b,2),E=(h[0],h[1],Object(r.useRef)()),O=Object(oe.useInViewport)(E,{disconnectOnLeave:!1},e),j=O.inViewport,w=O.enterCount;Object(r.useEffect)((function(){s||w>1||!j||j&&u(!0)}),[j]),Object(r.useEffect)((function(){s&&s&&p(!0)}),[s]);return n.a.createElement("div",{ref:E},n.a.createElement(S.a,null,n.a.createElement(I.a,{md:"10",className:"d-flex justify-content-center align-items-center text-large cardtxt",style:{fontWeight:"700",fontSize:"32px",letterSpacing:"2px"}},s?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"tweet"},n.a.createElement(ce.a,{onLoad:function(){p(!1)},tweetId:a.twtId})),n.a.createElement("div",{hidden:!f,className:"tweet"},n.a.createElement(N.a,{color:"primary"}))):n.a.createElement("div",{className:"tweet"},a.twtText)),n.a.createElement(I.a,{md:"2",className:"d-flex justify-content-center align-items-center"},n.a.createElement("div",{className:"iconbtn"},n.a.createElement(ee.a,{onClick:function(){},color:"#FF6370",className:" icon",style:{zIndex:"1"}})))))},se=function(e){var t=e.folder,a=Object(r.useContext)(g),c=a.state,o=(a.dispatch,c.loggedIn),u=c.token,i=Object(r.useState)({}),f=Object(l.a)(i,2),h=(f[0],f[1]),E=Object(r.useState)(!0),O=Object(l.a)(E,2),j=O[0],w=O[1],x=Object(r.useState)(!0),v=Object(l.a)(x,2),y=(v[0],v[1]),k=Object(r.useState)([]),T=Object(l.a)(k,2),C=T[0],_=T[1],L=Object(r.useState)(!0),F=Object(l.a)(L,2),U=(F[0],F[1],Object(r.useState)([])),R=Object(l.a)(U,2),W=R[0],z=R[1];Object(r.useEffect)((function(){t&&null!==t.folderId&&(console.log("folder updated... getting ".concat(t.folderName)),o&&Object(b.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting folder:"),console.log(t),e.next=4,J(t.folderId,u);case 4:if(!(a=e.sent).error){e.next=10;break}return Object(m.b)("Error: ".concat(a.error)),y(!1),w(!1),e.abrupt("return");case 10:a.tweets&&(_(a.tweets),y(!1),w(!1),h(t));case 11:case"end":return e.stop()}}),e)})))())}),[t]),Object(r.useEffect)((function(){if(0!==C.length){var e=[],t=[];C.forEach((function(a,r){r%2===0?e.push(n.a.createElement(re.a,{key:a.twtId,className:"tweetcard mb-4"},n.a.createElement(le,{tweet:a,embed:!0,tweetKey:a.twtId}))):t.push(n.a.createElement(re.a,{key:a.twtId,className:"tweetcard mb-4"},n.a.createElement(le,{tweet:a,embed:!0,tweetKey:a.twtId})))}));for(var a=[],r=0;r<e.length;r++)a.push(n.a.createElement(S.a,{key:r},n.a.createElement(I.a,null,e[r]),n.a.createElement(I.a,null,t[r]?t[r]:null)));z(a)}else z([])}),[C]);return o?j?n.a.createElement("div",{className:"Center"},n.a.createElement(N.a,{color:"primary"}),n.a.createElement("div",{className:"text-primary"},"Loading...")):n.a.createElement(n.a.Fragment,null," ",n.a.createElement(s.a,{className:"folder-title"},n.a.createElement(S.a,{className:"justify-content-md-center"},n.a.createElement(I.a,{md:"auto"},n.a.createElement("div",{className:"folderName"},t.folderName)))),n.a.createElement(s.a,{scrollable:"true",className:"mt-4 mb-5 tweet-list"},0!==C.length||j?n.a.createElement(ne.a,null,n.a.createElement(s.a,null,W)):n.a.createElement("div",{className:"Center text-large cardtxt",style:{fontWeight:"700",fontSize:"32px",letterSpacing:"2px"}},"No Tweets (yet)!"))):n.a.createElement(d.a,{to:"/auth"})},ue=function(){var e=Object(r.useContext)(g),t=e.state,a=(e.dispatch,t.loggedIn),c=t.token,o=Object(r.useState)(!0),u=Object(l.a)(o,2),i=u[0],f=u[1],h=Object(r.useState)(!1),E=Object(l.a)(h,2),O=E[0],j=E[1],w=Object(r.useState)([]),x=Object(l.a)(w,2),v=x[0],y=x[1],k=Object(r.useState)(null),T=Object(l.a)(k,2),C=T[0],_=T[1],L=Object(r.useState)(null),F=Object(l.a)(L,2),U=F[0],R=F[1],W=Object(r.useState)({folderId:null}),z=Object(l.a)(W,2),A=z[0],G=z[1],J=function(){j(!1),f(!0)},B=function(e){U.folderId!==e&&_(v.find((function(t){return t.folderId===e})))};return Object(r.useEffect)((function(){if(C)if(U){if(C.folderId===U.folderId&&C.tweets.length===U.tweets.length)return;G(C),R(C)}else G(C),R(C)}),[C]),Object(r.useEffect)((function(){O||a&&Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(c);case 2:if(!(t=e.sent).error){e.next=8;break}return Object(m.b)("Error: ".concat(t.error)),j(!0),f(!1),e.abrupt("return");case 8:t.folders&&(y(t.folders),j(!0),f(!1));case 9:case"end":return e.stop()}}),e)})))()}),[O]),Object(r.useEffect)((function(){0!==v.length&&_(U?v.find((function(e){return e.folderId===U.folderId})):v[0])}),[v]),a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{hidden:!i,className:"Center"},n.a.createElement(N.a,{color:"primary"}),n.a.createElement("div",{className:"text-primary"},"Loading...")),n.a.createElement("div",{hidden:i},n.a.createElement(S.a,null,n.a.createElement(I.a,{md:3},n.a.createElement(s.a,{scrollable:"true",className:"folder-list pt-4 container-fluid no-padding"},0!==v.length||i?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"folder-listcard mb-4"},n.a.createElement(ae,{folder:{folderName:"New Folder"},key:"newFolder",newFolder:!0,refresh:J})),v.map((function(e){return n.a.createElement("div",{className:"mb-4 "+(e.folderId===A.folderId?"selected-folder":"folder-listcard")},n.a.createElement(ae,{folder:e,key:e.folderId,newFolder:!1,refresh:J,selectFolder:B,selected:e.folderId===A.folderId}))}))):n.a.createElement("div",{className:"Center text-large cardtxt",style:{fontWeight:"700",fontSize:"32px",letterSpacing:"2px"}},"No folders found!"))),n.a.createElement(I.a,{md:9},n.a.createElement(se,{folder:A}))))):n.a.createElement(d.a,{to:"/auth"})},ie=a(3),de=function(e,t){switch(t.type){case"SET_TWT_CHALLENGE":return null===t.payload?Object(ie.a)({},e,{twtChallenge:null}):Object(ie.a)({},e,{twtChallenge:t.payload});case"SET_USER_ID":return null===t.payload?Object(ie.a)({},e,{userId:null}):Object(ie.a)({},e,{userId:t.payload});case"SET_SINGLE_FOLDER_NAME":return Object(ie.a)({},e,{folderName:t.payload});case"SET_SINGLE_FOLDER":return Object(ie.a)({},e,{folder:t.payload});case"SET_PREV_USER":return null===t.payload?Object(ie.a)({},e,{prevUser:null}):Object(ie.a)({},e,{prevUser:t.payload});case"SET_SHOW_LOGOUT":return Object(ie.a)({},e,{showLogout:t.payload});case"RESET_SIGNIN":return Object(ie.a)({},e,{signIn:!0});case"SET_FOLDERS":return null===t.payload?Object(ie.a)({},e,{folders:[]}):Object(ie.a)({},e,{folders:t.payload});case"SET_LOGIN":return null===t.payload?Object(ie.a)({},e,{loggedIn:!1}):Object(ie.a)({},e,{loggedIn:t.payload});case"SET_USER":return null===t.payload?Object(ie.a)({},e,{user:null}):Object(ie.a)({},e,{user:t.payload});case"SET_TOKEN":return null===t.payload||!1===t.payload?Object(ie.a)({},e,{token:null}):Object(ie.a)({},e,{token:t.payload});default:return e}},me={showLogout:!1,inAuth:!1,loggedIn:!1,twtAuth:{authed:!1,twtId:null,twtToken:null,twtSecret:null},user:null,userId:null,twtChallenge:null,twtState:Object(u.randomBytes)(48).toString("hex"),prevUser:null,token:null,folders:[],folder:{},folerName:null,folderToUpdate:null,folderIdToUpdate:null},fe=function(){var e=Object(r.useReducer)(de,me),t=Object(l.a)(e,2),a=t[0],c=t[1];return n.a.createElement(i.a,{basename:"better-bookmarks"},n.a.createElement(g.Provider,{value:{state:a,dispatch:c}},n.a.createElement(m.a,{theme:"dark"}),n.a.createElement(y,null),n.a.createElement(s.a,{className:"h-75"},n.a.createElement(d.d,null,n.a.createElement(d.b,{exact:!0,path:"/auth",component:U}),n.a.createElement(d.b,{exact:!0,path:"/folders",component:ue}),n.a.createElement(d.b,{exact:!0,path:"/onefolder",component:se}),n.a.createElement(d.b,{exact:!0,path:"/",component:G}),n.a.createElement(d.b,{exact:!0,path:"*",component:k})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[139,1,2]]]);
//# sourceMappingURL=main.48abd1bd.chunk.js.map